apiVersion: 1

# Grafana dashboard provisioning configuration for FinOps Executive Dashboards
# This file configures automatic dashboard provisioning and updates

providers:
  # Executive FinOps Dashboards
  - name: 'finops-executive'
    orgId: 1
    folder: 'FinOps Executive'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 30
    allowUiUpdates: true
    options:
      path: /etc/grafana/provisioning/dashboards/finops

  # Business KPIs and Metrics
  - name: 'business-kpis'
    orgId: 1
    folder: 'Business Intelligence'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 60
    allowUiUpdates: true
    options:
      path: /etc/grafana/provisioning/dashboards/business

  # Technical Infrastructure Dashboards
  - name: 'infrastructure'
    orgId: 1
    folder: 'Infrastructure'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 60
    allowUiUpdates: true
    options:
      path: /etc/grafana/provisioning/dashboards/infrastructure

  # Real-time Operations Monitoring
  - name: 'realtime-ops'
    orgId: 1
    folder: 'Real-time Operations'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 10
    allowUiUpdates: true
    options:
      path: /etc/grafana/provisioning/dashboards/realtime

  # Demo and Testing Dashboards
  - name: 'demo-dashboards'
    orgId: 1
    folder: 'Demo & Testing'
    type: file
    disableDeletion: true
    updateIntervalSeconds: 300
    allowUiUpdates: true
    options:
      path: /etc/grafana/provisioning/dashboards/demo

# Global dashboard settings
folderSettings:
  - title: 'FinOps Executive'
    permissions:
      - role: 'Admin'
        permission: 'Admin'
      - role: 'Editor'
        permission: 'Edit'
      - role: 'Viewer'
        permission: 'View'
    
  - title: 'Business Intelligence'
    permissions:
      - role: 'Admin'
        permission: 'Admin'
      - role: 'Editor'
        permission: 'Edit'
      - role: 'Viewer'
        permission: 'View'

  - title: 'Real-time Operations'
    permissions:
      - role: 'Admin'
        permission: 'Admin'
      - role: 'Editor'
        permission: 'Edit'
      - role: 'Viewer'
        permission: 'View'

# Dashboard refresh settings
refreshSettings:
  defaultRefresh: '5m'
  minRefresh: '30s'
  maxRefresh: '1d'
  
# Auto-update configuration
autoUpdate:
  enabled: true
  checkInterval: '1m'
  updateThreshold: 'minor'